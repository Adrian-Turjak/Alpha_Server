2015-06-24T04:05:37.953657+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."id" = 1;
2015-06-24T04:05:37.959017+00:00 app[web.1]: Executing (default): SELECT "Question"."id", "Question"."question", "Question"."trophy", "Question"."choice1", "Question"."choice2", "Question"."choice3", "Question"."choice4", "Question"."answer", "Question"."value", "Question"."deduct", "Question"."createdAt", "Question"."updatedAt", "UserQuestions"."createdAt" AS "UserQuestions.createdAt", "UserQuestions"."updatedAt" AS "UserQuestions.updatedAt", "UserQuestions"."UserId" AS "UserQuestions.UserId", "UserQuestions"."QuestionId" AS "UserQuestions.QuestionId" FROM "Questions" AS "Question" INNER JOIN "UserQuestions" AS "UserQuestions" ON "Question"."id" = "UserQuestions"."QuestionId" AND "UserQuestions"."UserId" = 1;
2015-06-24T04:05:44.534482+00:00 heroku[router]: at=info method=OPTIONS path="/auth/logout" host=powerful-cove-1691.herokuapp.com request_id=493c613f-5caf-4b34-9c48-65e2d569ce37 fwd="130.195.44.108" dyno=web.1 connect=1ms service=2ms status=204 bytes=245
2015-06-24T04:05:44.762205+00:00 heroku[router]: at=info method=POST path="/auth/logout" host=powerful-cove-1691.herokuapp.com request_id=a8b4de0a-9bc6-443e-b57d-1d5d4ec6572e fwd="130.195.44.108" dyno=web.1 connect=12ms service=4ms status=404 bytes=245
2015-06-24T04:05:44.750161+00:00 app[web.1]: No token
2015-06-24T04:07:01.428040+00:00 heroku[router]: at=info method=POST path="/auth/login" host=powerful-cove-1691.herokuapp.com request_id=04095863-0126-4066-b91e-c4e65ac0978d fwd="130.195.44.108" dyno=web.1 connect=2ms service=151ms status=200 bytes=480
2015-06-24T04:07:01.295670+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."username" = 'admin' LIMIT 1;
2015-06-24T04:07:01.400470+00:00 app[web.1]: Executing (default): INSERT INTO "Tokens" ("id","token","expires","UserId","updatedAt","createdAt") VALUES (DEFAULT,'5df3426a9c05fa11b358dbc9196e451ca4bddbbb1f645bb6037f31c5c5685e05','2015-06-24 04:17:01.398 +00:00',1,'2015-06-24 04:07:01.399 +00:00','2015-06-24 04:07:01.399 +00:00') RETURNING *;
2015-06-24T04:07:04.008000+00:00 heroku[router]: at=info method=OPTIONS path="/quiz/questions" host=powerful-cove-1691.herokuapp.com request_id=3a41c74d-6577-4cd2-a257-ef8ef272404a fwd="130.195.44.108" dyno=web.1 connect=2ms service=2ms status=204 bytes=245
2015-06-24T04:07:04.241851+00:00 heroku[router]: at=info method=GET path="/quiz/questions" host=powerful-cove-1691.herokuapp.com request_id=a5adffce-b1e9-4dd0-8c55-901504b9d6a4 fwd="130.195.44.108" dyno=web.1 connect=1ms service=16ms status=304 bytes=163
2015-06-24T04:07:04.231582+00:00 app[web.1]: Executing (default): SELECT "id", "token", "expires", "createdAt", "updatedAt", "UserId" FROM "Tokens" AS "Token" WHERE "Token"."token" = '5df3426a9c05fa11b358dbc9196e451ca4bddbbb1f645bb6037f31c5c5685e05' LIMIT 1;
2015-06-24T04:07:04.236228+00:00 app[web.1]: Executing (default): SELECT "Trophy"."id", "Trophy"."country", "Trophy"."name", "Trophy"."createdAt", "Trophy"."updatedAt", "UserTrophies"."createdAt" AS "UserTrophies.createdAt", "UserTrophies"."updatedAt" AS "UserTrophies.updatedAt", "UserTrophies"."UserId" AS "UserTrophies.UserId", "UserTrophies"."TrophyId" AS "UserTrophies.TrophyId" FROM "Trophies" AS "Trophy" INNER JOIN "UserTrophies" AS "UserTrophies" ON "Trophy"."id" = "UserTrophies"."TrophyId" AND "UserTrophies"."UserId" = 1;
2015-06-24T04:07:04.240546+00:00 app[web.1]: Executing (default): SELECT "id", "question", "trophy", "choice1", "choice2", "choice3", "choice4", "answer", "value", "deduct", "createdAt", "updatedAt" FROM "Questions" AS "Question" WHERE "Question"."trophy" IN (NULL) AND "Question"."id" NOT IN (0);
2015-06-24T04:07:04.233236+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."id" = 1;
2015-06-24T04:07:04.238615+00:00 app[web.1]: Executing (default): SELECT "Question"."id", "Question"."question", "Question"."trophy", "Question"."choice1", "Question"."choice2", "Question"."choice3", "Question"."choice4", "Question"."answer", "Question"."value", "Question"."deduct", "Question"."createdAt", "Question"."updatedAt", "UserQuestions"."createdAt" AS "UserQuestions.createdAt", "UserQuestions"."updatedAt" AS "UserQuestions.updatedAt", "UserQuestions"."UserId" AS "UserQuestions.UserId", "UserQuestions"."QuestionId" AS "UserQuestions.QuestionId" FROM "Questions" AS "Question" INNER JOIN "UserQuestions" AS "UserQuestions" ON "Question"."id" = "UserQuestions"."QuestionId" AND "UserQuestions"."UserId" = 1;
2015-06-24T04:07:04.729339+00:00 heroku[router]: at=info method=OPTIONS path="/user/score" host=powerful-cove-1691.herokuapp.com request_id=ea8413bc-0bb9-4fbe-958c-0de24660d798 fwd="130.195.44.108" dyno=web.1 connect=1ms service=2ms status=204 bytes=245
2015-06-24T04:07:04.703247+00:00 heroku[api]: Deploy 19eb79f by dannycole12@gmail.com
2015-06-24T04:07:04.703247+00:00 heroku[api]: Release v54 created by dannycole12@gmail.com
2015-06-24T04:07:04.750649+00:00 heroku[slug-compiler]: Slug compilation started
2015-06-24T04:07:04.750670+00:00 heroku[slug-compiler]: Slug compilation finished
2015-06-24T04:07:04.971564+00:00 heroku[router]: at=info method=GET path="/user/score" host=powerful-cove-1691.herokuapp.com request_id=925c5f01-3b7f-4d5b-8aa4-428aaecf0d69 fwd="130.195.44.108" dyno=web.1 connect=2ms service=14ms status=200 bytes=338
2015-06-24T04:07:04.938504+00:00 heroku[web.1]: State changed from up to starting
2015-06-24T04:07:04.961506+00:00 app[web.1]: Executing (default): SELECT "id", "token", "expires", "createdAt", "updatedAt", "UserId" FROM "Tokens" AS "Token" WHERE "Token"."token" = '5df3426a9c05fa11b358dbc9196e451ca4bddbbb1f645bb6037f31c5c5685e05' LIMIT 1;
2015-06-24T04:07:04.968059+00:00 app[web.1]: Executing (default): SELECT "User"."id", "User"."username", "User"."password", "User"."icon", "User"."score", "User"."admin", "User"."createdAt", "User"."updatedAt", "followers"."createdAt" AS "followers.createdAt", "followers"."updatedAt" AS "followers.updatedAt", "followers"."UserId" AS "followers.UserId", "followers"."FollowerId" AS "followers.FollowerId" FROM "Users" AS "User" INNER JOIN "followers" AS "followers" ON "User"."id" = "followers"."FollowerId" AND "followers"."UserId" = 1;
2015-06-24T04:07:04.964883+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."id" = 1;
2015-06-24T04:07:06.822123+00:00 heroku[web.1]: Starting process with command `node core.js`
2015-06-24T04:07:08.553762+00:00 heroku[web.1]: Stopping all processes with SIGTERM
2015-06-24T04:07:09.241852+00:00 app[web.1]: Detected 512 MB available memory, 512 MB limit per process (WEB_MEMORY)
2015-06-24T04:07:09.241876+00:00 app[web.1]: Recommending WEB_CONCURRENCY=1
2015-06-24T04:07:09.969994+00:00 app[web.1]: Wed, 24 Jun 2015 04:07:09 GMT body-parser deprecated undefined extended: provide extended option at core.js:19:20
2015-06-24T04:07:10.023629+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "UserQuestions" CASCADE;
2015-06-24T04:07:10.068137+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "followers" CASCADE;
2015-06-24T04:07:10.085980+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Questions" CASCADE;
2015-06-24T04:07:10.108970+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Tokens" CASCADE;
2015-06-24T04:07:10.135726+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Users" CASCADE;
2015-06-24T04:07:10.214439+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'Users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:07:09.991267+00:00 app[web.1]: Listening on port 25457
2015-06-24T04:07:10.060565+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "UserTrophies" CASCADE;
2015-06-24T04:07:10.075990+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "SecurityQuestions" CASCADE;
2015-06-24T04:07:10.094798+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Trophies" CASCADE;
2015-06-24T04:07:10.119911+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Users" CASCADE;
2015-06-24T04:07:10.153675+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "Users" ("id"   SERIAL , "username" VARCHAR(255) UNIQUE, "password" VARCHAR(255), "icon" VARCHAR(255), "score" INTEGER DEFAULT 0, "admin" BOOLEAN NOT NULL DEFAULT false, "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
2015-06-24T04:07:10.233709+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Tokens" CASCADE;
2015-06-24T04:07:10.382996+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "Questions" ("id"   SERIAL , "question" VARCHAR(255) UNIQUE, "trophy" VARCHAR(255), "choice1" VARCHAR(255), "choice2" VARCHAR(255), "choice3" VARCHAR(255), "choice4" VARCHAR(255), "answer" VARCHAR(255), "value" INTEGER DEFAULT 4, "deduct" INTEGER DEFAULT 1, "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
2015-06-24T04:07:10.368725+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'Trophies' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:07:10.425421+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "SecurityQuestions" CASCADE;
2015-06-24T04:07:10.242617+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "Tokens" ("id"   SERIAL , "token" VARCHAR(255) UNIQUE, "expires" TIMESTAMP WITH TIME ZONE, "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER REFERENCES "Users" ("id") ON DELETE SET NULL ON UPDATE CASCADE, PRIMARY KEY ("id"));
2015-06-24T04:07:10.489028+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "followers" ("createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER  REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "FollowerId" INTEGER  REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, PRIMARY KEY ("UserId","FollowerId"));
2015-06-24T04:07:10.337999+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Trophies" CASCADE;
2015-06-24T04:07:10.473191+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'SecurityQuestions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:07:10.342451+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "Trophies" ("id"   SERIAL , "country" VARCHAR(255), "name" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
2015-06-24T04:07:10.376610+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Questions" CASCADE;
2015-06-24T04:07:10.433417+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "SecurityQuestions" ("id"   SERIAL , "username" VARCHAR(255), "questionOne" VARCHAR(255), "questionTwo" VARCHAR(255), "answerOne" VARCHAR(255), "answerTwo" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER REFERENCES "Users" ("id") ON DELETE SET NULL ON UPDATE CASCADE, PRIMARY KEY ("id"));
2015-06-24T04:07:10.421228+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'Questions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:07:10.332335+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'Tokens' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:07:10.519639+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "UserTrophies" ("createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER  REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "TrophyId" INTEGER  REFERENCES "Trophies" ("id") ON DELETE CASCADE ON UPDATE CASCADE, PRIMARY KEY ("UserId","TrophyId"));
2015-06-24T04:07:10.477770+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "followers" CASCADE;
2015-06-24T04:07:10.536760+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "UserQuestions" CASCADE;
2015-06-24T04:07:10.509602+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'followers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:07:10.555973+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'UserQuestions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:07:10.516083+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "UserTrophies" CASCADE;
2015-06-24T04:07:10.533566+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'UserTrophies' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:07:10.540515+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "UserQuestions" ("createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER  REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "QuestionId" INTEGER  REFERENCES "Questions" ("id") ON DELETE CASCADE ON UPDATE CASCADE, PRIMARY KEY ("UserId","QuestionId"));
2015-06-24T04:07:10.679483+00:00 app[web.1]: Executing (default): INSERT INTO "Users" ("id","username","password","icon","score","admin","updatedAt","createdAt") VALUES (DEFAULT,'admin','$2a$10$BMyQFH4wEfVWCRVVQjsDQ.Ck2nvjt2CxDjbBRL.x61dKT461Yo71e','nz.png',0,true,'2015-06-24 04:07:10.673 +00:00','2015-06-24 04:07:10.673 +00:00') RETURNING *;
2015-06-24T04:07:10.580708+00:00 heroku[web.1]: Process exited with status 143
2015-06-24T04:07:10.696606+00:00 heroku[web.1]: State changed from starting to up
2015-06-24T04:07:10.832518+00:00 app[web.1]: Executing (default): INSERT INTO "Users" ("id","username","password","icon","score","admin","updatedAt","createdAt") VALUES (DEFAULT,'demo','$2a$10$vsz9g.YjEMnCtAOneP6gUeQG.WHgDQOiHP8hEmZhFHSabEUB/R2em','nz.png',0,false,'2015-06-24 04:07:10.831 +00:00','2015-06-24 04:07:10.831 +00:00') RETURNING *;
2015-06-24T04:07:10.872996+00:00 app[web.1]: Executing (default): INSERT INTO "followers" ("UserId","FollowerId","updatedAt","createdAt") VALUES (1,2,'2015-06-24 04:07:10.862 +00:00','2015-06-24 04:07:10.862 +00:00') RETURNING *;
2015-06-24T04:07:10.857961+00:00 app[web.1]: Executing (default): SELECT "User"."id", "User"."username", "User"."password", "User"."icon", "User"."score", "User"."admin", "User"."createdAt", "User"."updatedAt", "followers"."createdAt" AS "followers.createdAt", "followers"."updatedAt" AS "followers.updatedAt", "followers"."UserId" AS "followers.UserId", "followers"."FollowerId" AS "followers.FollowerId" FROM "Users" AS "User" INNER JOIN "followers" AS "followers" ON "User"."id" = "followers"."FollowerId" AND "followers"."UserId" = 1 WHERE ("User"."id" = 2);
2015-06-24T04:08:31.471545+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."username" = 'admin' LIMIT 1;
2015-06-24T04:08:31.484770+00:00 app[web.1]: Unhandled rejection TypeError: undefined is not a function
2015-06-24T04:08:31.484777+00:00 app[web.1]:     at null.<anonymous> (/app/auth.js:32:27)
2015-06-24T04:08:31.484779+00:00 app[web.1]:     at tryCatcher (/app/node_modules/sequelize/node_modules/bluebird/js/main/util.js:24:31)
2015-06-24T04:08:31.484780+00:00 app[web.1]:     at Promise._settlePromiseFromHandler (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:454:31)
2015-06-24T04:08:31.484782+00:00 app[web.1]:     at Promise._settlePromiseAt (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:530:18)
2015-06-24T04:08:31.484784+00:00 app[web.1]:     at Async._drainQueue (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:187:12)
2015-06-24T04:08:31.484785+00:00 app[web.1]:     at Async._drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:192:10)
2015-06-24T04:08:31.484786+00:00 app[web.1]:     at Async.drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:15:14)
2015-06-24T04:08:31.484788+00:00 app[web.1]:     at process._tickCallback (node.js:448:13)
2015-06-24T04:08:44.684514+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."username" = 'admin' LIMIT 1;
2015-06-24T04:08:44.689401+00:00 app[web.1]: Unhandled rejection TypeError: undefined is not a function
2015-06-24T04:08:44.689404+00:00 app[web.1]:     at null.<anonymous> (/app/auth.js:32:27)
2015-06-24T04:08:44.689406+00:00 app[web.1]:     at tryCatcher (/app/node_modules/sequelize/node_modules/bluebird/js/main/util.js:24:31)
2015-06-24T04:08:44.689409+00:00 app[web.1]:     at Promise._settlePromiseAt (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:530:18)
2015-06-24T04:08:44.689414+00:00 app[web.1]:     at Async.drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:15:14)
2015-06-24T04:08:44.689408+00:00 app[web.1]:     at Promise._settlePromiseFromHandler (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:454:31)
2015-06-24T04:08:44.689412+00:00 app[web.1]:     at Async._drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:192:10)
2015-06-24T04:08:44.6894
11+00:00 app[web.1]:     at Async._drainQueue (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:187:12)
2015-06-24T04:08:44.689415+00:00 app[web.1]:     at process._tickCallback (node.js:448:13)
2015-06-24T04:09:01.397809+00:00 heroku[router]: at=error code=H12 desc="Request timeout" method=POST path="/auth/login" host=powerful-cove-1691.herokuapp.com request_id=d1730a1d-e8ea-420a-808e-c18e3ef00f77 fwd="130.195.44.108" dyno=web.1 connect=1ms service=30001ms status=503 bytes=0
2015-06-24T04:09:14.660091+00:00 heroku[router]: at=error code=H12 desc="Request timeout" method=POST path="/auth/login" host=powerful-cove-1691.herokuapp.com request_id=1db555e2-60e9-40eb-90c1-ef96bbb6db08 fwd="130.195.44.108" dyno=web.1 connect=0ms service=30001ms status=503 bytes=0
2015-06-24T04:12:18.121453+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."username" = 'admin' LIMIT 1;
2015-06-24T04:12:18.126713+00:00 app[web.1]: Unhandled rejection TypeError: undefined is not a function
2015-06-24T04:12:18.126716+00:00 app[web.1]:     at null.<anonymous> (/app/auth.js:32:27)
2015-06-24T04:12:18.126718+00:00 app[web.1]:     at tryCatcher (/app/node_modules/sequelize/node_modules/bluebird/js/main/util.js:24:31)
2015-06-24T04:12:18.126720+00:00 app[web.1]:     at Promise._settlePromiseFromHandler (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:454:31)
2015-06-24T04:12:18.126722+00:00 app[web.1]:     at Promise._settlePromiseAt (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:530:18)
2015-06-24T04:12:18.126723+00:00 app[web.1]:     at Async._drainQueue (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:187:12)
2015-06-24T04:12:18.126725+00:00 app[web.1]:     at Async._drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:192:10)
2015-06-24T04:12:18.126726+00:00 app[web.1]:     at Async.drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:15:14)
2015-06-24T04:12:18.126728+00:00 app[web.1]:     at process._tickCallback (node.js:448:13)
2015-06-24T04:12:32.420568+00:00 heroku[api]: Deploy 651b0fc by dannycole12@gmail.com
2015-06-24T04:12:32.420568+00:00 heroku[api]: Release v55 created by dannycole12@gmail.com
2015-06-24T04:12:32.504236+00:00 heroku[slug-compiler]: Slug compilation started
2015-06-24T04:12:32.504255+00:00 heroku[slug-compiler]: Slug compilation finished
2015-06-24T04:12:32.784897+00:00 heroku[web.1]: State changed from up to starting
2015-06-24T04:12:34.375966+00:00 heroku[web.1]: Starting process with command `node core.js`
2015-06-24T04:12:36.243864+00:00 heroku[web.1]: Stopping all processes with SIGTERM
2015-06-24T04:12:35.983136+00:00 app[web.1]: Detected 512 MB available memory, 512 MB limit per process (WEB_MEMORY)
2015-06-24T04:12:35.983162+00:00 app[web.1]: Recommending WEB_CONCURRENCY=1
2015-06-24T04:12:36.589534+00:00 app[web.1]: Wed, 24 Jun 2015 04:12:36 GMT body-parser deprecated undefined extended: provide extended option at core.js:19:20
2015-06-24T04:12:36.631078+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "UserQuestions" CASCADE;
2015-06-24T04:12:36.659848+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "followers" CASCADE;
2015-06-24T04:12:36.685202+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Questions" CASCADE;
2015-06-24T04:12:36.702615+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Tokens" CASCADE;
2015-06-24T04:12:36.719273+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Users" CASCADE;
2015-06-24T04:12:36.759375+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'Users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:12:36.771480+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "Tokens" ("id"   SERIAL , "token" VARCHAR(255) UNIQUE, "expires" TIMESTAMP WITH TIME ZONE, "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER REFERENCES "Users" ("id") ON DELETE SET NULL ON UPDATE CASCADE, PRIMARY KEY ("id"));
2015-06-24T04:12:36.795889+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Trophies" CASCADE;
2015-06-24T04:12:36.604776+00:00 app[web.1]: Listening on port 18760
2015-06-24T04:12:36.650868+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "UserTrophies" CASCADE;
2015-06-24T04:12:36.675551+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "SecurityQuestions" CASCADE;
2015-06-24T04:12:36.694655+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Trophies" CASCADE;
2015-06-24T04:12:36.709261+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Users" CASCADE;
2015-06-24T04:12:36.726330+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "Users" ("id"   SERIAL , "username" VARCHAR(255) UNIQUE, "password" VARCHAR(255), "icon" VARCHAR(255), "score" INTEGER DEFAULT 0, "admin" BOOLEAN NOT NULL DEFAULT false, "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
2015-06-24T04:12:36.767262+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Tokens" CASCADE;
2015-06-24T04:12:36.791979+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'Tokens' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:12:36.800238+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "Trophies" ("id"   SERIAL , "country" VARCHAR(255), "name" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
2015-06-24T04:12:36.842502+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'Trophies' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:12:36.862471+00:00 heroku[web.1]: State changed from starting to up
2015-06-24T04:12:36.857508+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "Questions" CASCADE;
2015-06-24T04:12:36.861300+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "Questions" ("id"   SERIAL , "question" VARCHAR(255) UNIQUE, "trophy" VARCHAR(255), "choice1" VARCHAR(255), "choice2" VARCHAR(255), "choice3" VARCHAR(255), "choice4" VARCHAR(255), "answer" VARCHAR(255), "value" INTEGER DEFAULT 4, "deduct" INTEGER DEFAULT 1, "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
2015-06-24T04:12:36.901585+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "SecurityQuestions" CASCADE;
2015-06-24T04:12:36.934611+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'SecurityQuestions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:12:36.941021+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "followers" ("createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER  REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "FollowerId" INTEGER  REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, PRIMARY KEY ("UserId","FollowerId"));
2015-06-24T04:12:36.959532+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "UserTrophies" CASCADE;
2015-06-24T04:12:36.980655+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'UserTrophies' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:12:36.986606+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "UserQuestions" ("createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER  REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "QuestionId" INTEGER  REFERENCES "Questions" ("id") ON DELETE CASCADE ON UPDATE CASCADE, PRIMARY KEY ("UserId","QuestionId"));
2015-06-24T04:12:36.898653+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'Questions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:12:36.906744+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "SecurityQuestions" ("id"   SERIAL , "username" VARCHAR(255), "questionOne" VARCHAR(255), "questionTwo" VARCHAR(255), "answerOne" VARCHAR(255), "answerTwo" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER REFERENCES "Users" ("id") ON DELETE SET NULL ON UPDATE CASCADE, PRIMARY KEY ("id"));
2015-06-24T04:12:36.937743+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "followers" CASCADE;
2015-06-24T04:12:36.956019+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'followers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:12:36.961975+00:00 app[web.1]: Executing (default): CREATE TABLE IF NOT EXISTS "UserTrophies" ("createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, "UserId" INTEGER  REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "TrophyId" INTEGER  REFERENCES "Trophies" ("id") ON DELETE CASCADE ON UPDATE CASCADE, PRIMARY KEY ("UserId","TrophyId"));
2015-06-24T04:12:36.983622+00:00 app[web.1]: Executing (default): DROP TABLE IF EXISTS "UserQuestions" CASCADE;
2015-06-24T04:12:37.010340+00:00 app[web.1]: Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND a.attnum = ANY(ix.indkey) AND t.relkind = 'r' and t.relname = 'UserQuestions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2015-06-24T04:12:37.111959+00:00 app[web.1]: Executing (default): INSERT INTO "Users" ("id","username","password","icon","score","admin","updatedAt","createdAt") VALUES (DEFAULT,'admin','$2a$10$2YOF0Q3xQV1KPVxbuK1ig.6jEg/1Philu1grnlsTsbpAj3jUgHnx2','nz.png',0,true,'2015-06-24 04:12:37.107 +00:00','2015-06-24 04:12:37.107 +00:00') RETURNING *;
2015-06-24T04:12:37.105879+00:00 heroku[router]: at=error code=H13 desc="Connection closed without response" method=POST path="/auth/login" host=powerful-cove-1691.herokuapp.com request_id=a1085f5e-4672-4ae9-b6d2-f170689558d8 fwd="130.195.44.108" dyno=web.1 connect=12ms service=19006ms status=503 bytes=0
2015-06-24T04:12:37.203159+00:00 app[web.1]: Executing (default): INSERT INTO "Users" ("id","username","password","icon","score","admin","updatedAt","createdAt") VALUES (DEFAULT,'demo','$2a$10$IkJwk8Gdhx4Z9CBZ8mIvD.srusOTW0eLBg35wzqjG4QIuMoRVn.Hy','nz.png',0,false,'2015-06-24 04:12:37.202 +00:00','2015-06-24 04:12:37.202 +00:00') RETURNING *;
2015-06-24T04:12:37.219603+00:00 app[web.1]: Executing (default): INSERT INTO "followers" ("UserId","FollowerId","updatedAt","createdAt") VALUES (1,2,'2015-06-24 04:12:37.218 +00:00','2015-06-24 04:12:37.218 +00:00') RETURNING *;
2015-06-24T04:12:37.215009+00:00 app[web.1]: Executing (default): SELECT "User"."id", "User"."username", "User"."password", "User"."icon", "User"."score", "User"."admin", "User"."createdAt", "User"."updatedAt", "followers"."createdAt" AS "followers.createdAt", "followers"."updatedAt" AS "followers.updatedAt", "followers"."UserId" AS "followers.UserId", "followers"."FollowerId" AS "followers.FollowerId" FROM "Users" AS "User" INNER JOIN "followers" AS "followers" ON "User"."id" = "followers"."FollowerId" AND "followers"."UserId" = 1 WHERE ("User"."id" = 2);
2015-06-24T04:12:38.309455+00:00 heroku[web.1]: Process exited with status 143
2015-06-24T04:13:20.201578+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."username" = 'admin' LIMIT 1;
2015-06-24T04:13:20.212165+00:00 app[web.1]: Unhandled rejection TypeError: undefined is not a function
2015-06-24T04:13:20.212169+00:00 app[web.1]:     at null.<anonymous> (/app/auth.js:32:27)
2015-06-24T04:13:20.212176+00:00 app[web.1]:     at tryCatcher (/app/node_modules/sequelize/node_modules/bluebird/js/main/util.js:24:31)
2015-06-24T04:13:20.212177+00:00 app[web.1]:     at Promise._settlePromiseFromHandler (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:454:31)
2015-06-24T04:13:20.212179+00:00 app[web.1]:     at Promise._settlePromiseAt (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:530:18)
2015-06-24T04:13:20.212180+00:00 app[web.1]:     at Async._drainQueue (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:187:12)
2015-06-24T04:13:20.212181+00:00 app[web.1]:     at Async._drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:192:10)
2015-06-24T04:13:20.212183+00:00 app[web.1]:     at Async.drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:15:14)
2015-06-24T04:13:20.212184+00:00 app[web.1]:     at process._tickCallback (node.js:448:13)
2015-06-24T04:13:29.452757+00:00 heroku[router]: at=info method=GET path="/" host=powerful-cove-1691.herokuapp.com request_id=620474f2-1223-415a-9a9d-a683ce5c9d6e fwd="130.195.44.91" dyno=web.1 connect=1ms service=13ms status=200 bytes=7063
2015-06-24T04:13:34.627166+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."username" = 'admin' LIMIT 1;
2015-06-24T04:13:34.632501+00:00 app[web.1]: Unhandled rejection TypeError: undefined is not a function
2015-06-24T04:13:34.632507+00:00 app[web.1]:     at null.<anonymous> (/app/auth.js:32:27)
2015-06-24T04:13:34.632509+00:00 app[web.1]:     at tryCatcher (/app/node_modules/sequelize/node_modules/bluebird/js/main/util.js:24:31)
2015-06-24T04:13:34.632510+00:00 app[web.1]:     at Promise._settlePromiseFromHandler (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:454:31)
2015-06-24T04:13:34.632512+00:00 app[web.1]:     at Promise._settlePromiseAt (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:530:18)
2015-06-24T04:13:34.632513+00:00 app[web.1]:     at Async._drainQueue (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:187:12)
2015-06-24T04:13:34.632514+00:00 app[web.1]:     at Async._drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:192:10)
2015-06-24T04:13:34.632515+00:00 app[web.1]:     at Async.drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:15:14)
2015-06-24T04:13:34.632517+00:00 app[web.1]:     at process._tickCallback (node.js:448:13)
2015-06-24T04:13:41.321216+00:00 app[web.1]: Executing (default): SELECT "id", "username", "password", "icon", "score", "admin", "createdAt", "updatedAt" FROM "Users" AS "User" WHERE "User"."username" = 'admin' LIMIT 1;
2015-06-24T04:13:41.324877+00:00 app[web.1]: Unhandled rejection TypeError: undefined is not a function
2015-06-24T04:13:41.324882+00:00 app[web.1]:     at null.<anonymous> (/app/auth.js:32:27)
2015-06-24T04:13:41.324884+00:00 app[web.1]:     at tryCatcher (/app/node_modules/sequelize/node_modules/bluebird/js/main/util.js:24:31)
2015-06-24T04:13:41.324885+00:00 app[web.1]:     at Promise._settlePromiseFromHandler (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:454:31)
2015-06-24T04:13:41.324887+00:00 app[web.1]:     at Promise._settlePromiseAt (/app/node_modules/sequelize/node_modules/bluebird/js/main/promise.js:530:18)
2015-06-24T04:13:41.324888+00:00 app[web.1]:     at Async._drainQueue (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:187:12)
2015-06-24T04:13:41.324889+00:00 app[web.1]:     at Async._drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:192:10)
2015-06-24T04:13:41.324890+00:00 app[web.1]:     at Async.drainQueues (/app/node_modules/sequelize/node_modules/bluebird/js/main/async.js:15:14)
2015-06-24T04:13:41.324892+00:00 app[web.1]:     at process._tickCallback (node.js:448:13)
2015-06-24T04:13:50.065283+00:00 heroku[router]: at=error code=H12 desc="Request timeout" method=POST path="/auth/login" host=powerful-cove-1691.herokuapp.com request_id=9e17f358-817d-466c-88fb-86fd28a1fc3b fwd="130.195.44.108" dyno=web.1 connect=1ms service=30000ms status=503 bytes=0
2015-06-24T04:14:04.555038+00:00 heroku[router]: at=error code=H12 desc="Request timeout" method=POST path="/auth/login" host=powerful-cove-1691.herokuapp.com request_id=c8c9a2d4-8bdd-4766-a2b2-fad2457b8865 fwd="130.195.44.91" dyno=web.1 connect=7ms service=30000ms status=503 bytes=0
2015-06-24T04:14:11.334947+00:00 heroku[router]: at=error code=H12 desc="Request timeout" method=POST path="/auth/login" host=powerful-cove-1691.herokuapp.com request_id=66a00426-a6a3-48cc-a60a-34e328b0489d fwd="130.195.44.91" dyno=web.1 connect=1ms service=30002ms status=503 bytes=0
